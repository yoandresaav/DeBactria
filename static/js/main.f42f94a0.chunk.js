(this["webpackJsonpkickstart-frontend"]=this["webpackJsonpkickstart-frontend"]||[]).push([[0],{215:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"uint256","name":"mininmumContribution","type":"uint256"}],"name":"createCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"deployedCampaigns","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDeployedCampaigns","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"}]}')},221:function(e,t,a){e.exports=a(485)},243:function(e,t){},266:function(e,t){},268:function(e,t){},33:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"uint256","name":"minAmt","type":"uint256"},{"internalType":"address","name":"creator","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"ind","type":"uint256"}],"name":"approveRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"approversCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"contribute","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"string","name":"desc","type":"string"},{"internalType":"uint256","name":"val","type":"uint256"},{"internalType":"address payable","name":"rec","type":"address"}],"name":"createRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"ind","type":"uint256"}],"name":"finalizeRequest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCampaignDetails","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRequestsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mininmumContribution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"requests","outputs":[{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address payable","name":"recipient","type":"address"},{"internalType":"bool","name":"completed","type":"bool"},{"internalType":"uint256","name":"approvalCount","type":"uint256"}],"stateMutability":"view","type":"function"}]}')},344:function(e,t){},346:function(e,t){},378:function(e,t){},383:function(e,t){},385:function(e,t){},392:function(e,t){},405:function(e,t){},485:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(85),i=a.n(s),c=a(8),o=a.n(c),l=a(15),u=a(3),p=a(5),m=a(10),d=a(9),h=a(17),v=a(22),b=a(19),f=a(36),y=a.n(f),g=function(){return new Promise(function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum||!window.ethereum.isMetaMask){e.next=13;break}return n=new y.a(window.ethereum),e.prev=2,e.next=5,window.ethereum.enable();case 5:t(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("User has denied account access to Wallet");case 11:e.next=14;break;case 13:window.web3?(n=new y.a(y.a.givenProvider||"ws://localhost:7545"),t(n)):(console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),a());case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}())};var E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,0===this.props.account||void 0===this.props.account?r.a.createElement("a",{className:"link-connect",onClick:function(){e.props.dispatch(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:if(null!==(a=e.sent)&&null!==a.eth){e.next=6;break}return alert("Not access to wallet"),e.abrupt("return");case 6:return e.next=8,a.eth.getAccounts();case 8:n=e.sent,t({type:"LOAD_ACCOUNTS",account:n[0]});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Connect to a Wallet"):r.a.createElement("a",{className:"link-connect"},"".concat(this.props.account.slice(0,6),"...").concat(this.props.account.slice(-6))))}}]),a}(n.Component);var w=Object(b.b)((function(e){return{account:e.loadAccounts.account}}),null)(E),C=(a(84),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return console.log("Propsssss",this.props.account),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"left-nav"},r.a.createElement(v.b,{to:"/"},"DeBactria")),0!==this.props.account&&void 0!==this.props.account&&r.a.createElement("div",{className:"right-nav"},r.a.createElement(v.b,{to:"/campaigns/new"},"Create Campaign")),r.a.createElement("div",{className:"last-div"},r.a.createElement(w,null)))}}]),a}(n.Component));var O=Object(b.b)((function(e){return{account:e.loadAccounts.account}}),null)(C),x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(O,null),r.a.createElement("h2",null,"Open Campaigns"),r.a.createElement("div",{className:"main-body"},r.a.createElement("div",{className:"main-body-left"},this.props.campaigns),0!==this.props.account&&void 0!==this.props.account?r.a.createElement(v.b,{to:"/campaigns/new"},r.a.createElement("div",{className:"main-body-right"},r.a.createElement("div",{className:"plus-border"},"+"),r.a.createElement("p",null,"Create Campaign"))):r.a.createElement("p",{style:{width:250}},"Link the wallet and add new campaign")))}}]),a}(n.Component);var k,j=Object(b.b)((function(e){return{campaigns:e.deployedCampaigns.campaigns.map((function(e,t){return r.a.createElement("div",{className:"list",id:t,key:t,style:{marginBottom:"16px"}},e,r.a.createElement("div",null,r.a.createElement(v.b,{to:"/campaigns/".concat(e)},r.a.createElement("p",{id:t,style:{margin:"0",marginTop:"8px",whiteSpace:"nowrap",display:"inline-block"}},"View Campaign")),r.a.createElement(v.b,{to:"/campaigns/".concat(e,"/requests")},r.a.createElement("p",{style:{margin:"0",marginTop:"8px",whiteSpace:"nowrap",display:"inline-block",marginLeft:"20px"}},"View Requests"))))})),account:e.loadAccounts.account}}),null)(x);function N(){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.web3?k=new y.a(window.web3.currentProvider):(t=new y.a.providers.HttpProvider("https://apis.ankr.com/60a2b6d260f6408f8c893e43fe60861d/436c4191c3a955c822236c8f1a306d98/binance/full/test"),k=new y.a(t)),e.abrupt("return",k);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=a(215),q="0xD40C53118D853FE51D8DF59422cf45d874a8EcF2";function M(){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return t=e.sent,e.next=5,new t.eth.Contract(T.a,q);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return a=e.sent,e.next=5,a.methods.getDeployedCampaigns().call();case 5:n=e.sent,console.log("campaigns: ",n),t({type:"DEPLOYED_CAMPAIGNS",campaigns:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Error")}}]),a}(r.a.Component),D=a(23),V=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={value:"",errorMessage:"",errorVisible:!1,handlingTransaction:!1},n.handleFormSubmit=n.handleFormSubmit.bind(Object(D.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(D.a)(n)),console.log("El store tiene: ",n.store),n}return Object(p.a)(a,[{key:"handleInputChange",value:function(e){isFinite(e.target.value)&&this.setState({value:e.target.value})}},{key:"handleFormSubmit",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((a=this.state.value).length>0)){e.next=16;break}return e.next=5,M();case 5:return n=e.sent,this.setState({handlingTransaction:!0}),e.next=9,n.methods.createCampaign(a).send({from:this.props.account});case 9:return e.sent,e.next=12,this.props.dispatch(R());case 12:this.props.history.push("/"),this.setState({handlingTransaction:!1}),e.next=18;break;case 16:this.setState({errorMessage:"Minimum Contribution field cannot be empty",errorVisible:!0}),setTimeout((function(){r.setState({errorMessage:"",errorVisible:!1})}),3e3);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"new-campaign-page"},r.a.createElement(O,null),r.a.createElement("h2",null,"Create a Campaign"),r.a.createElement("h3",null,"Minimum Contribution"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleInputChange,placeholder:"Minimum Contribution(in Wei)"}),r.a.createElement("div",null,"wei")),r.a.createElement("div",{className:"error-message",style:this.state.errorVisible?{display:"block"}:{display:"none"}},this.state.errorMessage),r.a.createElement("div",{className:"button",onClick:this.handleFormSubmit},r.a.createElement("p",{style:this.state.handlingTransaction?{display:"none"}:{display:"block"}},"Create!"),r.a.createElement("div",{className:"loader",style:this.state.handlingTransaction?{display:"block"}:{display:"none"}}))))}}]),a}(n.Component);var I=Object(b.b)((function(e){return{account:e.loadAccounts.account}}),null)(V),L=a(33);function P(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return n=t.sent,t.next=5,new n.eth.Contract(L.a,e);case 5:return r=t.sent,t.next=8,r.methods.getCampaignDetails().call();case 8:s=t.sent,a({type:"GET_CAMPAIGN_DETAILS",minimumContribution:s[0],balance:n.utils.fromWei(s[1],"ether"),approversCount:s[2],requestsLength:s[3],manager:s[4]});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var W=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={value:"",handlingTransaction:!1,errorMessage:"",errorVisible:!1,loading:!0},n.handleFormSubmit=n.handleFormSubmit.bind(Object(D.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(D.a)(n)),n}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({loading:!1})}},{key:"handleInputChange",value:function(e){isFinite(e.target.value)&&this.setState({value:e.target.value})}},{key:"handleFormSubmit",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,s,i,c,l=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((a=this.state.value).length>0)){e.next=31;break}return e.next=5,N();case 5:return n=e.sent,e.next=8,n.eth.getAccounts();case 8:return r=e.sent,e.next=11,new n.eth.Contract(L.a,this.props.match.params.id);case 11:return s=e.sent,e.prev=12,this.setState({handlingTransaction:!0}),i=n.utils.toWei(a,"ether"),e.next=17,s.methods.contribute().send({from:r[0],value:i});case 17:e.sent,c=this.props.match.params.id,this.props.dispatch(P(c)),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(12),this.setState({errorMessage:e.t0.message,errorVisible:!0}),setTimeout((function(){l.setState({errorMessage:"",errorVisible:!1})}),3e3);case 26:return e.prev=26,this.setState({handlingTransaction:!1}),e.finish(26);case 29:e.next=33;break;case 31:this.setState({errorMessage:"Minimum Contribution field cannot be empty",errorVisible:!0}),setTimeout((function(){l.setState({errorMessage:"",errorVisible:!1})}),3e3);case 33:case"end":return e.stop()}}),e,this,[[12,22,26,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.id,this.props.dispatch(P(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.getCampaignDetails,t=e.minimumContribution,a=e.balance,n=e.approversCount,s=e.requestsLength,i=e.manager;return r.a.createElement("div",{className:"show-campaigns"},r.a.createElement(O,null),r.a.createElement("h2",null,"Campaign Show"),r.a.createElement("div",{className:"show-campaigns-main"},r.a.createElement("div",{className:"card-grid",style:this.state.loading?{display:"none"}:{display:"flex"}},r.a.createElement("div",{className:"card-row"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,i),r.a.createElement("p",{className:"first-p",style:{color:"#a9a9a9"}},"Address of Manager"),r.a.createElement("p",null,"The manager created this campaign and can create requests to withdraw money")),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,t),r.a.createElement("p",{className:"first-p",style:{color:"#a9a9a9"}},"Minimum Contribution(wei)"),r.a.createElement("p",null,"You must contribute at least this much wei to become a contributor"))),r.a.createElement("div",{className:"card-row"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,s),r.a.createElement("p",{className:"first-p",style:{color:"#a9a9a9"}},"Number of Requests"),r.a.createElement("p",null,"A request tries to withdraw money from the contract. Requests must be approved by approvers.")),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,n),r.a.createElement("p",{className:"first-p",style:{color:"#a9a9a9"}},"Number of Approvers"),r.a.createElement("p",null,"Number of people who have already donated to this campaign"))),r.a.createElement("div",{className:"card-row"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,a),r.a.createElement("p",{className:"first-p",style:{color:"#a9a9a9"}},"Campaign Balance(ether)"),r.a.createElement("p",null,"The balance is how much money this campaign has left to spend"))),r.a.createElement(v.b,{to:"/campaigns/".concat(this.props.match.params.id,"/requests")},r.a.createElement("div",{className:"button"},r.a.createElement("p",null,"View Requests")))),r.a.createElement("div",{className:"loader-container",style:this.state.loading?{display:"flex"}:{display:" none"}},r.a.createElement("div",{className:"loader"})),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("p",null,"Amount to Contribute"),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleInputChange,placeholder:"Contribute"}),r.a.createElement("div",{style:{width:"15%"}},"ether")),r.a.createElement("div",{className:"error-message",style:this.state.errorVisible?{display:"block"}:{display:"none"}},this.state.errorMessage),r.a.createElement("div",{className:"button",onClick:this.handleFormSubmit},r.a.createElement("p",{style:this.state.handlingTransaction?{display:"none"}:{display:"block"}},"Contribute!"),r.a.createElement("div",{className:"loader",style:this.state.handlingTransaction?{display:"block"}:{display:"none"}})))))}}]),a}(n.Component);var z=Object(b.b)((function(e){return e}),null)(W);function _(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,s,i,c,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return n=t.sent,t.next=5,new n.eth.Contract(L.a,e);case 5:return r=t.sent,t.next=8,r.methods.getRequestsCount().call();case 8:s=t.sent,i=[],c=0;case 11:if(!(c<s)){t.next=19;break}return t.next=14,r.methods.requests(c).call();case 14:l=t.sent,i.push(l);case 16:c++,t.next=11;break;case 19:return t.next=21,r.methods.approversCount().call();case 21:u=t.sent,a({type:"GET_REQUESTS",requests:i,approversCount:u});case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var G=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).approveRequest=n.approveRequest.bind(Object(D.a)(n)),n.finalizeRequest=n.finalizeRequest.bind(Object(D.a)(n)),n.state={loading:!0,errorVisible:!1,errorMessage:"",requests:[]},n}return Object(p.a)(a,[{key:"approveRequest",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,s,i,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.id,n=this.props.match.params.id,e.next=4,N();case 4:return r=e.sent,e.next=7,new r.eth.Contract(L.a,n);case 7:return s=e.sent,e.next=10,r.eth.getAccounts();case 10:return i=e.sent,e.prev=11,this.setState({loading:!0}),e.next=15,s.methods.approveRequest(a).send({from:i[0]});case 15:return e.next=17,this.props.dispatch(_(n));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(11),this.setState({loading:!1,errorVisible:!0,errorMessage:e.t0.message}),setTimeout((function(){c.setState({errorVisible:!1,errorMessage:""})}),3e3);case 23:case"end":return e.stop()}}),e,this,[[11,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"finalizeRequest",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,s,i,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.id,n=this.props.match.params.id,e.next=4,N();case 4:return r=e.sent,e.next=7,new r.eth.Contract(L.a,n);case 7:return s=e.sent,e.next=10,r.eth.getAccounts();case 10:return i=e.sent,e.prev=11,this.setState({loading:!0}),e.next=15,s.methods.finalizeRequest(a).send({from:i[0]});case 15:return e.next=17,this.props.dispatch(_(n));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(11),this.setState({loading:!1,errorVisible:!0,errorMessage:e.t0.message}),setTimeout((function(){c.setState({errorVisible:!1,errorMessage:""})}),3e3);case 23:case"end":return e.stop()}}),e,this,[[11,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch(_(this.props.match.params.id));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.approversCount,a=this.props.requests.map((function(a,n){var s=y.a.utils.fromWei(a.value,"ether");return console.log(a.completed),r.a.createElement("tr",{key:n},r.a.createElement("td",{className:a.completed?"one modified":"one"},r.a.createElement("p",null,n+1)),r.a.createElement("td",{className:!1===a.completed?"two modified":"two"},r.a.createElement("p",null,a.description)),r.a.createElement("td",{className:a.completed?"three modified":"three"},r.a.createElement("p",null,s)),r.a.createElement("td",{className:a.completed?"four modified":"four"},r.a.createElement("p",{style:{fontSize:12}},a.recipient)),r.a.createElement("td",{className:a.completed?"five modified":"five",style:{textAlign:"right"}},r.a.createElement("p",null,"".concat(a.approvalCount,"/").concat(t))),r.a.createElement("td",{className:"six",id:n,style:a.completed?{opacity:"0"}:{opacity:"1"}},r.a.createElement("div",{className:"table-button",id:n,onClick:e.approveRequest},r.a.createElement("p",{id:n,onClick:e.approveRequest},"Approve"))),r.a.createElement("td",{className:"seven",id:n,style:a.completed?{opacity:"0"}:{opacity:"1"}},r.a.createElement("div",{className:"table-button table-button-two",id:n,onClick:e.finalizeRequest},r.a.createElement("p",{id:n,onClick:e.finalizeRequest},"Finalize"))))}));return r.a.createElement("div",{className:"requests"},r.a.createElement(O,null),r.a.createElement("h2",null,"Requests"),r.a.createElement("div",{className:"link-container"},r.a.createElement(v.b,{to:"/campaigns/".concat(this.props.match.params.id,"/requests/new")},r.a.createElement("div",{className:"button"},r.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Add Request")))),r.a.createElement("table",{style:this.state.loading?{display:"none"}:{display:"block"}},r.a.createElement("tr",null,r.a.createElement("th",{className:"one"},"ID"),r.a.createElement("th",{className:"two"},"Description"),r.a.createElement("th",{className:"three"},"Amount"),r.a.createElement("th",{className:"four"},"Recipient"),r.a.createElement("th",{className:"five"},"Approval Count"),r.a.createElement("th",{className:"six"},"Approve"),r.a.createElement("th",{className:"seven"},"Finalize")),a),r.a.createElement("div",{className:"loader-container",style:!1===this.state.loading?{display:"none"}:{display:"flex"}},r.a.createElement("div",{className:"loader"})),r.a.createElement("div",{className:"error-message",style:this.state.errorVisible?{display:"block"}:{display:"none"}},this.state.errorMessage))}}]),a}(n.Component);var B=Object(b.b)((function(e){return{requests:e.getRequests.requests,approversCount:e.getRequests.approversCount}}),null)(G),U=a(21),J=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={handlingTransaction:!1,description:"",value:"",recipient:"",errorVisible:!1,errorMessage:""},n.handleFormChanges=n.handleFormChanges.bind(Object(D.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(D.a)(n)),n}return Object(p.a)(a,[{key:"handleFormSubmit",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,r,s,i,c,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Object(U.a)({},this.state),n=a.description,r=a.value,s=a.recipient,!(n.length>0&&r.length>0&&isFinite(r)&&s.length>0)){e.next=19;break}return this.setState({handlingTransaction:!0}),e.next=6,N();case 6:return i=e.sent,e.next=9,i.eth.getAccounts();case 9:return c=e.sent,e.next=12,new i.eth.Contract(L.a,this.props.match.params.id);case 12:return l=e.sent,console.log(c[0]),e.next=16,l.methods.createRequest(n,i.utils.toWei(r,"ether"),s).send({from:c[0]});case 16:this.props.history.push("campaigns${this.props.match.params.id}\requests"),e.next=22;break;case 19:return this.setState({errorVisible:!0,errorMessage:"One or more fields appear to be empty or have invalid inputs"}),setTimeout((function(){u.setState({errorVisible:!1,errorMessage:""})}),3e3),e.abrupt("return");case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleFormChanges",value:function(e){var t=e.target.className;if("value"!=t||isFinite(e.target.value)){var a=e.target.value;switch(t){case"description":return void this.setState({description:a});case"value":return void this.setState({value:a});case"recipient":return void this.setState({recipient:a});default:return}}}},{key:"render",value:function(){return r.a.createElement("div",{className:"new-request"},r.a.createElement(O,null),r.a.createElement("h2",null,"Create a Request"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-box-new"},r.a.createElement("p",null,"Description"),r.a.createElement("input",{className:"description",type:"text",value:this.state.description,onChange:this.handleFormChanges}),r.a.createElement("p",null,"Value in Ether"),r.a.createElement("input",{className:"value",type:"text",value:this.state.value,onChange:this.handleFormChanges}),r.a.createElement("p",null,"Recipient"),r.a.createElement("input",{className:"recipient",type:"text",value:this.state.recipient,onChange:this.handleFormChanges}),r.a.createElement("div",{className:"error-message",style:this.state.errorVisible?{display:"block"}:{display:"none"}},this.state.errorMessage),r.a.createElement("div",{className:"button",onClick:this.handleFormSubmit},r.a.createElement("p",{style:this.state.handlingTransaction?{display:"none"}:{display:"block"}},"Create!"),r.a.createElement("div",{className:"loader",style:this.state.handlingTransaction?{display:"block"}:{display:"none"}})))))}}]),a}(n.Component);var Y=Object(b.b)((function(e){return Object(U.a)({},e).getCampaignDetails}),null)(J),Q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch(R());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",component:j,exact:!0}),r.a.createElement(h.a,{path:"/campaigns/new",component:I}),r.a.createElement(h.a,{path:"/campaigns/:id/requests/new",component:Y}),r.a.createElement(h.a,{path:"/campaigns/:id/requests",component:B}),r.a.createElement(h.a,{path:"/campaigns/:id",component:z}),r.a.createElement(h.a,{path:"/*",component:F}))}}]),a}(r.a.Component);var $=Object(b.b)((function(e){return e}),null)(Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(39),K={account:0,accountObj:null};var X={campaigns:[]};var Z={minimumContribution:0,balance:0,approversCount:0,requestsLength:0,manager:0};var ee={requests:[],approversCount:0};var te=Object(H.combineReducers)({loadAccounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ACCOUNTS":return Object(U.a)(Object(U.a)({},e),{},{account:t.account,accountObj:t.accountObj});default:return e}},deployedCampaigns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEPLOYED_CAMPAIGNS":return Object(U.a)(Object(U.a)({},e),{},{campaigns:t.campaigns});default:return e}},getCampaignDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAMPAIGN_DETAILS":return Object(U.a)(Object(U.a)({},e),{},{minimumContribution:t.minimumContribution,balance:t.balance,approversCount:t.approversCount,requestsLength:t.requestsLength,manager:t.manager});default:return e}},getRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REQUESTS":return Object(U.a)(Object(U.a)({},e),{},{requests:t.requests,approversCount:t.approversCount});default:return e}}}),ae=a(216),ne=a(217),re=a(218),se=Object(re.createLogger)({collapsed:!0,diff:!0});var ie=Object(H.createStore)(te,Object(ne.composeWithDevTools)(Object(H.applyMiddleware)(ae.a,se)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.a,{store:ie},r.a.createElement(v.a,null,r.a.createElement($,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){}},[[221,1,2]]]);
//# sourceMappingURL=main.f42f94a0.chunk.js.map